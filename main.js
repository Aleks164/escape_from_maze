(()=>{"use strict";var t,e={};function n(){var t=document.getElementById("heigth"),e=document.getElementById("width");return{height:+t.value,width:+e.value}}function r(t,e){t&&(t.innerHTML=e)}function a(t){switch(t){case"#":return"wall";case"*":return"shortWayColor";case">":case"<":case"v":case"^":return"steps";case"horizontal":return"horizontal";case"vertical":return"vertical";default:return"empty"}}function o(t){return'<div class="mazeRow"><div class="mazeRow" style="grid-template-columns: repeat('.concat(t[0].length+1,',15px); ">\n  ').concat(Array(t[0].length).fill(0).map((function(t,e){var n="";return 0===e&&(n="<div> </div>"),"".concat(n,"<div  class=").concat(a("vertical"),">").concat(e+1,"</div>")})).join(""),"</div>\n  ").concat(t.map((function(e,n){return'<div class="mazeRow" style="grid-template-columns: repeat('.concat(t[0].length+1,',15px); ">').concat(e.split("").map((function(t,e){var r="";return 0===e&&(r="<div class=".concat(a("horizontal"),">").concat(n+1,"</div>")),"".concat(r,"<div class=").concat(a(t),">").concat(t||".","</div>")})).join(""),"</div>")})).join(""),"</div>")}function i(){var t,e,a,i=document.getElementById("maze"),c=n();r(i,o((t=c.height,e=c.width,a=2*t+1,Array(2*e+1).fill("").map((function(t,e){return Array(a).fill(" ").map((function(t,n){return n%2!=0&&e%2!=0||n%2==0&&e%2==0?"#":" "})).join("")})))))}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e,n,r){var a=function(t){for(var e=t.pop(),n=Object.keys(e)[0],r=e[n].from,a=e[n].coord,o=u(a);r;)e=t.find((function(t){return!!r&&t[r]})),n=Object.keys(e)[0],r=e[n].from,a=e[n].coord,o.unshift.apply(o,u(a));return o}(t),i=setInterval((function(){if(!a.length)return clearInterval(i),void(r.disabled=!1);var t,c,u=(t=a.shift(),c=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,c)||l(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],d=u[1],f=n[s].split("");f[d]="*",n[s]=f.join("");var m=o(n);e&&(e.innerHTML=m)}),25)}e.m={},e.u=t=>t+".js",e.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e.p="/task-calendar/",e.b=document.baseURI||self.location.href,function(t){t.DRAW_ESCAPING="drawEscaping",t.DRAW_NEW_MAZE="drawNewMaze"}(t||(t={}));var d=document.getElementById("start"),f=document.getElementById("generateNewMaze"),m=document.getElementById("maze"),y=new Worker(new URL(e.p+e.u(783),e.b)),v=Date.now().toString();y.onmessage=function(e){return function(e,a,o,i){var c,l,u=e.data,d=u.newMaze,f=u.mazeMarkup,m=u.crossingsParamArray;switch(u.type){case t.DRAW_NEW_MAZE:var y=n();c=y.height,l=y.width,document.getElementById("currenSize").innerHTML="height: ".concat(c," x width: ").concat(l),r(a,f),i.disabled=!1;break;case t.DRAW_ESCAPING:s(m,a,window.structuredClone(d),o)}}(e,m,f,d)},i(),y.postMessage({mazeParams:n(),type:t.DRAW_NEW_MAZE,key:v}),f.addEventListener("click",(function(){v=Date.now().toString(),i(),y.postMessage({mazeParams:n(),type:t.DRAW_NEW_MAZE,key:v})})),d.addEventListener("click",(function(){d.disabled=!0,f.disabled=!0,i(),y.postMessage({type:t.DRAW_ESCAPING,key:v})}))})();